# é‡æ„æ–¹æ¡ˆè¯„ä»·ä¸æ”¹è¿›å»ºè®®

## ğŸ“Š ç°çŠ¶åˆ†æ

### âœ… å·²åšå¾—å¥½çš„åœ°æ–¹

1. **æ¸…æ™°çš„åˆ†å±‚ç†å¿µ**
   - View/Model/Infra åˆ†å±‚æ€è·¯æ­£ç¡®
   - Features æ¨¡å—åŒ–ç»„ç»‡åˆç†
   - ä½¿ç”¨ Zustand ä½œä¸ºçŠ¶æ€ç®¡ç†ç¬¦åˆè½»é‡åŒ–è¦æ±‚

2. **éƒ¨åˆ†ç±»å·²å®ç°å•ä¾‹æ¨¡å¼**
   - `SemanticSearchService` ä½¿ç”¨å•ä¾‹
   - `TextTokenizer` ä½¿ç”¨å•ä¾‹
   - `SemanticSearchDAO` å·²å°è£…ä¸º class

3. **ç»„ä»¶æ‹†åˆ†è¾ƒä¸ºåˆç†**
   - shadcn/ui ç»„ä»¶ç‹¬ç«‹ç®¡ç†
   - features æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡
   - common å…¬å…±ç»„ä»¶å¤ç”¨

### âš ï¸ å­˜åœ¨çš„ä¸»è¦é—®é¢˜

#### 1. **ç›®å½•ç»“æ„ä¸ç†è®ºä¸åŒ¹é…** âŒ

**ç†è®ºè§„èŒƒ:**
```
src/
â”œâ”€â”€ view/              # è§†å›¾å±‚
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ pages/
â”‚   â””â”€â”€ features/
â”œâ”€â”€ model/             # æ¨¡å‹å±‚
â”‚   â”œâ”€â”€ stores/
â”‚   â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ events/
â”‚   â””â”€â”€ entities/
â”œâ”€â”€ infra/             # åŸºç¡€è®¾æ–½å±‚
â”‚   â”œâ”€â”€ api/
â”‚   â””â”€â”€ dao/
â””â”€â”€ common/
    â”œâ”€â”€ lib/
    â””â”€â”€ utils/
```

**å®é™…ç»“æ„:**
```
src/
â”œâ”€â”€ components/        âŒ æœªå½’å…¥ view/
â”œâ”€â”€ panels/            âŒ æœªå½’å…¥ view/pages/
â”œâ”€â”€ features/          âŒ æœªå½’å…¥ view/
â”œâ”€â”€ stores/            âŒ æœªå½’å…¥ model/
â”œâ”€â”€ service/           âŒ æœªå½’å…¥ model/
â”œâ”€â”€ dao/               âŒ æœªå½’å…¥ infra/
â”œâ”€â”€ data/              âŒ ä¸åœ¨è§„èŒƒä¸­
â”œâ”€â”€ lib/               âŒ æœªå½’å…¥ common/
â””â”€â”€ styles/            âŒ æœªå½’å…¥ view/ æˆ– assets/
```

#### 2. **æœªä½¿ç”¨ DI å®¹å™¨ç®¡ç†ç”Ÿå‘½å‘¨æœŸ** âŒ

**ç°çŠ¶:**
- æ‰‹åŠ¨ `getInstance()` ç®¡ç†å•ä¾‹
- Service ä¹‹é—´ä¾èµ–å…³ç³»ç¡¬ç¼–ç 
- DAO åœ¨ Service ä¸­ç›´æ¥ `new`

**é—®é¢˜:**
```typescript
// SemanticSearchService.ts
private constructor() {
    this.tokenizer = TextTokenizer.getInstance();  // ç¡¬ä¾èµ–
    this.vectorBuilder = new VectorBuilder();      // ç¡¬ä¾èµ–
    this.dao = new SemanticSearchDAO();            // ç¡¬ä¾èµ–
}
```

**å½±å“:**
- éš¾ä»¥å•å…ƒæµ‹è¯•ï¼ˆæ— æ³• Mock ä¾èµ–ï¼‰
- å¾ªç¯ä¾èµ–é£é™©é«˜
- ç”Ÿå‘½å‘¨æœŸç®¡ç†æ··ä¹±

#### 3. **ç¼ºå°‘ ViewModel å±‚** âŒ

**ç°çŠ¶:**
- React ç»„ä»¶ç›´æ¥è°ƒç”¨ Store å’Œ Service
- ä¸šåŠ¡é€»è¾‘æ•£è½åœ¨ç»„ä»¶ä¸­
- `features/*/hooks/` ç›®å½•ä¸ºç©º

**ç¤ºä¾‹é—®é¢˜:**
```typescript
// App.tsx - ç»„ä»¶ç›´æ¥å¤„ç†ä¸šåŠ¡é€»è¾‘
const handleFABClick = () => {
    if (isPanelOpen && showEditPanel) {
      setShowEditPanel(false);
      setSelectedPrompt(null);
    } else if (isPanelOpen) {
      setPanelOpen(false);
      setShowEditPanel(false);
      setSelectedPrompt(null);
    }
    // ... æ›´å¤šé€»è¾‘
};
```

**åº”è¯¥æ˜¯:**
```typescript
// features/FAB/hooks/useFABViewModel.ts
export const useFABViewModel = () => {
    const service = useService(FABService);
    const handleClick = () => service.togglePanel();
    return { handleClick };
};
```

#### 4. **Entity å±‚ç¼ºå¤±** âš ï¸

**ç°çŠ¶:**
- `Prompt` ç±»å‹å®šä¹‰åœ¨ `stores/usePromptStore.ts` ä¸­
- ç¼ºå°‘ç»Ÿä¸€çš„å®ä½“å®šä¹‰ä½ç½®
- ç±»å‹å®šä¹‰åˆ†æ•£åœ¨å„å¤„

**åº”è¯¥æ”¾åœ¨:**
```
model/
â””â”€â”€ entities/
    â”œâ”€â”€ Prompt.ts
    â”œâ”€â”€ Tag.ts
    â””â”€â”€ Version.ts
```

#### 5. **Service å±‚èŒè´£ä¸æ¸…** âš ï¸

**ç°çŠ¶:**
- `SemanticSearchService` æ··æ‚äº†ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®å¤„ç†
- ç¼ºå°‘å…¶ä»–ä¸šåŠ¡ Serviceï¼ˆå¦‚ PromptService, TagServiceï¼‰
- Store æ‰¿æ‹…äº†è¿‡å¤šä¸šåŠ¡é€»è¾‘

**ç¤ºä¾‹:**
```typescript
// usePromptStore.ts - Store ä¸åº”åŒ…å«ä¸šåŠ¡é€»è¾‘
likePrompt: (id: number) => {
    set((state) => ({
      prompts: state.prompts.map((p) =>
        p.id === id ? { ...p, isLiked: !p.isLiked, likes: p.isLiked ? p.likes - 1 : p.likes + 1 } : p
      ),
    }));
},
```

#### 6. **ç¼ºå°‘ API å±‚** âš ï¸

**ç°çŠ¶:**
- ä½¿ç”¨ `mockData.ts` æ¨¡æ‹Ÿæ•°æ®
- æœªå®šä¹‰ API Client
- æœªæ¥æ¥å…¥åç«¯éœ€è¦å¤§é‡é‡æ„

---

## ğŸ¯ æ”¹è¿›æ–¹æ¡ˆ

### ä¸€ã€ç›®å½•ç»“æ„é‡æ„ (ä¼˜å…ˆçº§: ğŸ”´ é«˜)

#### 1.1 å®Œæ•´çš„ç›®æ ‡ç»“æ„

```
src/
â”œâ”€â”€ view/                           # è§†å›¾å±‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                     # shadcn/ui åŸå­ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ common/                 # å…¨å±€é€šç”¨ä¸šåŠ¡ç»„ä»¶
â”‚   â”‚   â””â”€â”€ providers/              # Context Providers
â”‚   â”œâ”€â”€ pages/                      # é¡µé¢éª¨æ¶
â”‚   â”‚   â”œâ”€â”€ App.tsx                 # ä¸»åº”ç”¨ (ä»æ ¹ç›®å½•ç§»å…¥)
â”‚   â”‚   â”œâ”€â”€ PromptPanel.tsx         # (ä» panels/ ç§»å…¥)
â”‚   â”‚   â”œâ”€â”€ EditPanel.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ features/                   # åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ PromptLibrary/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/         # åŠŸèƒ½ä¸“ç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ hooks/              # ViewModel å±‚
â”‚   â”‚   â”‚       â””â”€â”€ usePromptLibraryViewModel.ts
â”‚   â”‚   â”œâ”€â”€ TagSystem/
â”‚   â”‚   â”‚   â””â”€â”€ hooks/
â”‚   â”‚   â”‚       â””â”€â”€ useTagViewModel.ts
â”‚   â”‚   â””â”€â”€ VersionManager/
â”‚   â”‚       â””â”€â”€ hooks/
â”‚   â”‚           â””â”€â”€ useVersionViewModel.ts
â”‚   â””â”€â”€ assets/                     # é™æ€èµ„æº
â”‚       â””â”€â”€ styles/                 # (ä»æ ¹ç›®å½• styles/ ç§»å…¥)
â”‚           â”œâ”€â”€ globals.css
â”‚           â””â”€â”€ components.css
â”‚
â”œâ”€â”€ model/                          # æ¨¡å‹å±‚
â”‚   â”œâ”€â”€ stores/                     # Zustand å…¨å±€çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ usePromptStore.ts       # (ä» stores/ ç§»å…¥)
â”‚   â”‚   â”œâ”€â”€ useUIStore.ts
â”‚   â”‚   â””â”€â”€ usePromptListStore.ts
â”‚   â”œâ”€â”€ services/                   # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ PromptService.ts        # æ–°å¢
â”‚   â”‚   â”œâ”€â”€ TagService.ts           # æ–°å¢
â”‚   â”‚   â”œâ”€â”€ VersionService.ts       # æ–°å¢
â”‚   â”‚   â””â”€â”€ SemanticSearch/         # (ä» service/ ç§»å…¥)
â”‚   â”‚       â”œâ”€â”€ SemanticSearchService.ts
â”‚   â”‚       â”œâ”€â”€ TextTokenizer.ts
â”‚   â”‚       â”œâ”€â”€ VectorBuilder.ts
â”‚   â”‚       â”œâ”€â”€ SimilarityCalculator.ts
â”‚   â”‚       â”œâ”€â”€ types.ts
â”‚   â”‚       â”œâ”€â”€ constants.ts
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ entities/                   # å®ä½“å®šä¹‰ (æ–°å¢)
â”‚   â”‚   â”œâ”€â”€ Prompt.ts
â”‚   â”‚   â”œâ”€â”€ Tag.ts
â”‚   â”‚   â”œâ”€â”€ Version.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ events/                     # äº‹ä»¶ç³»ç»Ÿ (å¯é€‰)
â”‚       â””â”€â”€ EventBus.ts
â”‚
â”œâ”€â”€ infra/                          # åŸºç¡€è®¾æ–½å±‚
â”‚   â”œâ”€â”€ api/                        # API Client (æ–°å¢)
â”‚   â”‚   â”œâ”€â”€ ApiClient.ts
â”‚   â”‚   â”œâ”€â”€ endpoints/
â”‚   â”‚   â”‚   â”œâ”€â”€ prompt.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ tag.ts
â”‚   â”‚   â”‚   â””â”€â”€ version.ts
â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â””â”€â”€ dao/                        # æ•°æ®è®¿é—®å¯¹è±¡ (ä» dao/ ç§»å…¥)
â”‚       â””â”€â”€ SemanticSearchDAO.ts
â”‚
â”œâ”€â”€ common/                         # å…¬å…±æ¨¡å—
â”‚   â”œâ”€â”€ lib/                        # ç¬¬ä¸‰æ–¹åº“å°è£… (ä» lib/ ç§»å…¥)
â”‚   â”‚   â”œâ”€â”€ utils.ts
â”‚   â”‚   â””â”€â”€ cn.ts
â”‚   â”œâ”€â”€ utils/                      # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ format.ts
â”‚   â””â”€â”€ config/                     # é…ç½®æ–‡ä»¶
â”‚       â””â”€â”€ di.ts                   # DI å®¹å™¨é…ç½® (æ–°å¢)
â”‚
â””â”€â”€ main.tsx                        # å…¥å£æ–‡ä»¶ (ä¿æŒä¸å˜)
```

#### 1.2 è¿ç§»æ­¥éª¤

```bash
# é˜¶æ®µ1: åˆ›å»ºæ–°ç›®å½•
mkdir -p src/view/{pages,assets/styles}
mkdir -p src/model/{services,entities,events}
mkdir -p src/infra/api/endpoints
mkdir -p src/common/{utils,config}

# é˜¶æ®µ2: ç§»åŠ¨æ–‡ä»¶
mv src/App.tsx src/view/pages/
mv src/panels/* src/view/pages/
mv src/styles/* src/view/assets/styles/

mv src/stores src/model/
mv src/service src/model/services
mv src/dao src/infra/

mv src/lib src/common/
mv src/components src/view/
mv src/features src/view/

# é˜¶æ®µ3: æ›´æ–°æ‰€æœ‰ import è·¯å¾„
```

---

### äºŒã€å¼•å…¥ DI å®¹å™¨ (ä¼˜å…ˆçº§: ğŸ”´ é«˜)

#### 2.1 å®‰è£…ä¾èµ–

```bash
npm install tsyringe reflect-metadata
```

#### 2.2 é…ç½® DI å®¹å™¨

**common/config/di.ts**
```typescript
import 'reflect-metadata';
import { container } from 'tsyringe';

// Infra å±‚
import { ApiClient } from '@/infra/api/ApiClient';
import { SemanticSearchDAO } from '@/infra/dao/SemanticSearchDAO';

// Model å±‚
import { SemanticSearchService } from '@/model/services/SemanticSearch/SemanticSearchService';
import { PromptService } from '@/model/services/PromptService';
import { TagService } from '@/model/services/TagService';
import { VersionService } from '@/model/services/VersionService';

/**
 * åˆå§‹åŒ– DI å®¹å™¨
 */
export function initializeDI() {
    // æ³¨å†Œ Infra å±‚å•ä¾‹
    container.registerSingleton(ApiClient);
    container.registerSingleton(SemanticSearchDAO);

    // æ³¨å†Œ Service å±‚å•ä¾‹
    container.registerSingleton(SemanticSearchService);
    container.registerSingleton(PromptService);
    container.registerSingleton(TagService);
    container.registerSingleton(VersionService);
}

/**
 * è·å– Service å®ä¾‹
 */
export function getService<T>(serviceClass: new (...args: any[]) => T): T {
    return container.resolve(serviceClass);
}
```

**main.tsx**
```typescript
import { initializeDI } from './common/config/di';

// åˆå§‹åŒ– DI å®¹å™¨
initializeDI();

// ... å…¶ä»–åˆå§‹åŒ–ä»£ç 
```

#### 2.3 é‡æ„ Service ä½¿ç”¨ DI

**model/services/SemanticSearch/SemanticSearchService.ts**
```typescript
import { injectable, inject } from 'tsyringe';
import { SemanticSearchDAO } from '@/infra/dao/SemanticSearchDAO';
import { TextTokenizer } from './TextTokenizer';
import { VectorBuilder } from './VectorBuilder';

@injectable()
export class SemanticSearchService {
    constructor(
        @inject(SemanticSearchDAO) private dao: SemanticSearchDAO,
        @inject(TextTokenizer) private tokenizer: TextTokenizer,
        @inject(VectorBuilder) private vectorBuilder: VectorBuilder
    ) {}

    // ä¸å†éœ€è¦ getInstance()
    // ä¸å†éœ€è¦ private constructor()
    
    async initialize() {
        await this.dao.init();
        // ...
    }
}
```

**model/services/PromptService.ts (æ–°å¢)**
```typescript
import { injectable, inject } from 'tsyringe';
import { ApiClient } from '@/infra/api/ApiClient';
import { Prompt } from '@/model/entities/Prompt';

@injectable()
export class PromptService {
    constructor(
        @inject(ApiClient) private api: ApiClient
    ) {}

    async getPrompts(): Promise<Prompt[]> {
        return this.api.get('/prompts');
    }

    async likePrompt(id: number): Promise<void> {
        await this.api.post(`/prompts/${id}/like`);
    }

    async updateTags(id: number, tags: string[]): Promise<void> {
        await this.api.patch(`/prompts/${id}`, { tags });
    }
}
```

---

### ä¸‰ã€å®ç° ViewModel å±‚ (ä¼˜å…ˆçº§: ğŸŸ¡ ä¸­)

#### 3.1 åˆ›å»º ViewModel Hook

**view/features/PromptLibrary/hooks/usePromptLibraryViewModel.ts**
```typescript
import { useEffect } from 'react';
import { getService } from '@/common/config/di';
import { PromptService } from '@/model/services/PromptService';
import { usePromptStore } from '@/model/stores/usePromptStore';

export const usePromptLibraryViewModel = () => {
    const promptService = getService(PromptService);
    const { prompts, setPrompts, selectedPrompt, setSelectedPrompt } = usePromptStore();

    // åŠ è½½æ•°æ®
    useEffect(() => {
        promptService.getPrompts().then(setPrompts);
    }, []);

    // ç‚¹èµé€»è¾‘
    const handleLike = async (id: number) => {
        await promptService.likePrompt(id);
        // æ›´æ–°æœ¬åœ°çŠ¶æ€
        setPrompts(prompts.map(p => 
            p.id === id ? { ...p, isLiked: !p.isLiked } : p
        ));
    };

    // é€‰æ‹© Prompt
    const handleSelect = (id: number) => {
        const prompt = prompts.find(p => p.id === id);
        setSelectedPrompt(prompt || null);
    };

    return {
        prompts,
        selectedPrompt,
        handleLike,
        handleSelect,
    };
};
```

#### 3.2 ç»„ä»¶ä½¿ç”¨ ViewModel

**view/features/PromptLibrary/components/PromptList.tsx**
```typescript
import { usePromptLibraryViewModel } from '../hooks/usePromptLibraryViewModel';

export const PromptList = () => {
    const { prompts, handleLike, handleSelect } = usePromptLibraryViewModel();

    return (
        <div>
            {prompts.map(prompt => (
                <PromptItem
                    key={prompt.id}
                    prompt={prompt}
                    onLike={handleLike}
                    onSelect={handleSelect}
                />
            ))}
        </div>
    );
};
```

---

### å››ã€ç»Ÿä¸€ Entity å®šä¹‰ (ä¼˜å…ˆçº§: ğŸŸ¡ ä¸­)

**model/entities/Prompt.ts**
```typescript
import { Version } from './Version';

export interface Prompt {
    id: number;
    title: string;
    description: string;
    tags: string[];
    likes: number;
    isLiked: boolean;
    usageCount: number;
    date: string;
    dateTimestamp: number;
    version?: string;
    sources?: string[];
    answer?: string;
    currentVersionId?: string;
    versions?: Version[];
    tree_id?: string;
    version_num?: string;
    tree_title?: string;
}

export class PromptEntity implements Prompt {
    constructor(
        public id: number,
        public title: string,
        public description: string,
        public tags: string[] = [],
        public likes: number = 0,
        public isLiked: boolean = false,
        public usageCount: number = 0,
        public date: string = new Date().toISOString(),
        public dateTimestamp: number = Date.now()
    ) {}

    // ä¸šåŠ¡æ–¹æ³•
    toggleLike(): PromptEntity {
        return new PromptEntity(
            this.id,
            this.title,
            this.description,
            this.tags,
            this.isLiked ? this.likes - 1 : this.likes + 1,
            !this.isLiked,
            this.usageCount,
            this.date,
            this.dateTimestamp
        );
    }

    addTag(tag: string): PromptEntity {
        if (this.tags.includes(tag)) return this;
        return new PromptEntity(
            this.id,
            this.title,
            this.description,
            [...this.tags, tag],
            this.likes,
            this.isLiked,
            this.usageCount,
            this.date,
            this.dateTimestamp
        );
    }
}
```

**model/entities/index.ts**
```typescript
export * from './Prompt';
export * from './Tag';
export * from './Version';
```

---

### äº”ã€è¡¥å…… API å±‚ (ä¼˜å…ˆçº§: ğŸŸ¢ ä½)

**infra/api/ApiClient.ts**
```typescript
import { injectable } from 'tsyringe';

@injectable()
export class ApiClient {
    private baseURL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:3000/api';

    async get<T>(endpoint: string): Promise<T> {
        const response = await fetch(`${this.baseURL}${endpoint}`);
        if (!response.ok) throw new Error(`GET ${endpoint} failed`);
        return response.json();
    }

    async post<T>(endpoint: string, data?: any): Promise<T> {
        const response = await fetch(`${this.baseURL}${endpoint}`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data),
        });
        if (!response.ok) throw new Error(`POST ${endpoint} failed`);
        return response.json();
    }

    async patch<T>(endpoint: string, data?: any): Promise<T> {
        const response = await fetch(`${this.baseURL}${endpoint}`, {
            method: 'PATCH',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data),
        });
        if (!response.ok) throw new Error(`PATCH ${endpoint} failed`);
        return response.json();
    }

    async delete(endpoint: string): Promise<void> {
        const response = await fetch(`${this.baseURL}${endpoint}`, {
            method: 'DELETE',
        });
        if (!response.ok) throw new Error(`DELETE ${endpoint} failed`);
    }
}
```

---

## ğŸ“‹ é‡æ„æ‰§è¡Œè®¡åˆ’

### é˜¶æ®µ 1: ç›®å½•ç»“æ„è°ƒæ•´ (1-2å¤©)
- [ ] åˆ›å»ºæ–°ç›®å½•ç»“æ„
- [ ] ç§»åŠ¨æ–‡ä»¶åˆ°å¯¹åº”ä½ç½®
- [ ] æ›´æ–°æ‰€æœ‰ import è·¯å¾„
- [ ] æµ‹è¯•ç¼–è¯‘é€šè¿‡

### é˜¶æ®µ 2: å¼•å…¥ DI å®¹å™¨ (2-3å¤©)
- [ ] å®‰è£… tsyringe
- [ ] é…ç½® DI å®¹å™¨
- [ ] é‡æ„ Service ä½¿ç”¨ @injectable
- [ ] é‡æ„ DAO ä½¿ç”¨ @injectable
- [ ] ç§»é™¤æ‰€æœ‰ getInstance() æ¨¡å¼

### é˜¶æ®µ 3: å®ç° ViewModel å±‚ (3-4å¤©)
- [ ] åˆ›å»º usePromptLibraryViewModel
- [ ] åˆ›å»º useTagViewModel
- [ ] åˆ›å»º useVersionViewModel
- [ ] é‡æ„ç»„ä»¶ä½¿ç”¨ ViewModel

### é˜¶æ®µ 4: ç»Ÿä¸€ Entity å®šä¹‰ (1å¤©)
- [ ] åˆ›å»º Prompt Entity
- [ ] åˆ›å»º Tag Entity
- [ ] åˆ›å»º Version Entity
- [ ] æ›´æ–° Store ä½¿ç”¨ Entity

### é˜¶æ®µ 5: è¡¥å…… API å±‚ (2å¤©)
- [ ] åˆ›å»º ApiClient
- [ ] å®šä¹‰ API endpoints
- [ ] Service é›†æˆ API
- [ ] Mock -> çœŸå® API åˆ‡æ¢

---

## ğŸ¯ é¢„æœŸæ”¶ç›Š

### 1. å¯ç»´æŠ¤æ€§
- âœ… æ¸…æ™°çš„ç›®å½•ç»“æ„ï¼Œæ–°äººå¿«é€Ÿä¸Šæ‰‹
- âœ… ç»Ÿä¸€çš„ Entity å®šä¹‰ï¼Œé¿å…ç±»å‹æ··ä¹±
- âœ… ViewModel å±‚è§£è€¦ä¸šåŠ¡é€»è¾‘

### 2. å¯æµ‹è¯•æ€§
- âœ… DI æ³¨å…¥ä¾èµ–ï¼Œè½»æ¾ Mock
- âœ… Service å±‚ç‹¬ç«‹æµ‹è¯•
- âœ… ViewModel å±‚ç‹¬ç«‹æµ‹è¯•

### 3. å¯æ‰©å±•æ€§
- âœ… æ–°å¢åŠŸèƒ½åªéœ€æ·»åŠ  Service + ViewModel
- âœ… API å±‚ç»Ÿä¸€ç®¡ç†ï¼Œåˆ‡æ¢åç«¯ç®€å•
- âœ… Event ç³»ç»Ÿæ”¯æŒæ¨¡å—é—´é€šä¿¡

### 4. æ€§èƒ½
- âœ… å•ä¾‹æ¨¡å¼é¿å…é‡å¤å®ä¾‹åŒ–
- âœ… Store åªç®¡çŠ¶æ€ï¼Œä¸æ··æ‚é€»è¾‘
- âœ… æŒ‰éœ€åŠ è½½ features

---

## ğŸ” æŠ€æœ¯æ ˆé€‰æ‹©è¯„ä»·

### æ¨èä¿ç•™
- âœ… **Zustand** - è½»é‡çº§çŠ¶æ€ç®¡ç†
- âœ… **shadcn/ui** - å¯å®šåˆ¶ç»„ä»¶åº“
- âœ… **TypeScript** - ç±»å‹å®‰å…¨
- âœ… **Vite** - å¿«é€Ÿæ„å»º

### æ¨èæ–°å¢
- ğŸ†• **tsyringe** - DI å®¹å™¨
- ğŸ†• **React Query** (å¯é€‰) - API çŠ¶æ€ç®¡ç†
- ğŸ†• **Zod** (å¯é€‰) - è¿è¡Œæ—¶ç±»å‹æ ¡éªŒ

### ä¸æ¨è
- âŒ æ‰‹åŠ¨ `getInstance()` å•ä¾‹
- âŒ Store ä¸­å†™ä¸šåŠ¡é€»è¾‘
- âŒ ç»„ä»¶ç›´æ¥è°ƒç”¨ Service

---

## ğŸ“ æ€»ç»“

### æ ¸å¿ƒé—®é¢˜
1. **ç›®å½•ç»“æ„æ··ä¹±** - ä¸ç†è®ºä¸ç¬¦
2. **ç¼ºå°‘ DI å®¹å™¨** - ç”Ÿå‘½å‘¨æœŸç®¡ç†æ‰‹åŠ¨
3. **ç¼ºå°‘ ViewModel** - ä¸šåŠ¡é€»è¾‘æ•£è½ç»„ä»¶
4. **Entity å®šä¹‰åˆ†æ•£** - ç±»å‹ä¸ç»Ÿä¸€
5. **Service èŒè´£ä¸æ¸…** - Store æ‰¿æ‹…è¿‡å¤šé€»è¾‘

### ä¼˜å…ˆçº§æ’åº
1. ğŸ”´ **å¼•å…¥ DI å®¹å™¨** (å½±å“æœ€å¤§)
2. ğŸ”´ **ç›®å½•ç»“æ„è°ƒæ•´** (åŸºç¡€å·¥ç¨‹)
3. ğŸŸ¡ **å®ç° ViewModel** (è§£è€¦å…³é”®)
4. ğŸŸ¡ **ç»Ÿä¸€ Entity** (ç±»å‹å®‰å…¨)
5. ğŸŸ¢ **è¡¥å…… API å±‚** (å¯å»¶å)

### é¢„è®¡å·¥ä½œé‡
- å®Œæ•´é‡æ„: **8-12 å·¥ä½œæ—¥**
- æ ¸å¿ƒæ”¹è¿› (DI + ViewModel): **5-7 å·¥ä½œæ—¥**
- æœ€å°æ”¹è¿› (DI å®¹å™¨): **2-3 å·¥ä½œæ—¥**

---

**å»ºè®®:** ä¼˜å…ˆå®æ–½ **DI å®¹å™¨** + **ViewModel å±‚**ï¼Œå…¶ä»–å¯åˆ†é˜¶æ®µè¿›è¡Œã€‚
