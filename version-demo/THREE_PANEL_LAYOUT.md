# ä¸‰é¢æ¿å¸ƒå±€ç³»ç»Ÿè¯´æ˜ ğŸ“

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

å®ç°äº†ä¸€ä¸ªä¼˜é›…çš„ä¸‰é¢æ¿å¸ƒå±€ç³»ç»Ÿ,æ”¯æŒæµç•…çš„å±•å¼€/æ”¶èµ·åŠ¨ç”»æ•ˆæœã€‚

### æ ¸å¿ƒç‰¹æ€§

- âœ… **é»˜è®¤æ˜¾ç¤º**: Header (å±…ä¸­) + Timeline Panel (å±…ä¸­,æœ€å¤§å®½ 900px)
- âœ… **åŠ¨æ€å±•å¼€**: ç‚¹å‡»"Add Version"æŒ‰é’®å,Timeline å·¦ç§»åˆ°å·¦ä¾§,SidePanel ä»å³ä¾§æ»‘å…¥
- âœ… **å¹³æ»‘åŠ¨ç”»**: 500ms ç¼“åŠ¨åŠ¨ç”»,Timeline æœ‰æ˜æ˜¾çš„å·¦ç§»æ•ˆæœ
- âœ… **å…³é—­åŠŸèƒ½**: SidePanel é¡¶éƒ¨å³ä¾§æœ‰å…³é—­æŒ‰é’® (X å›¾æ ‡,å¸¦æ—‹è½¬åŠ¨ç”»)
- âœ… **å“åº”å¼**: åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹è‡ªé€‚åº”è°ƒæ•´

---

## ğŸ“Š å¸ƒå±€çŠ¶æ€

### çŠ¶æ€ 1: é»˜è®¤çŠ¶æ€ (Timeline å±…ä¸­)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Header (å±…ä¸­å¯¹é½)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚        â”‚  Timeline Panel â”‚              â”‚
â”‚        â”‚   (å±…ä¸­, 900px)  â”‚              â”‚
â”‚        â”‚                 â”‚              â”‚
â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚              â”‚
â”‚        â”‚  â”‚ Version 1 â”‚  â”‚              â”‚
â”‚        â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚              â”‚
â”‚        â”‚  â”‚ Version 2 â”‚  â”‚              â”‚
â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### çŠ¶æ€ 2: SidePanel å±•å¼€ (Timeline å·¦ç§»)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Header (å±…ä¸­å¯¹é½)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Timeline Panel â”‚         â”‚ â”‚          â”‚ â”‚
â”‚  â”‚  (å·¦å¯¹é½, flex)  â”‚         â”‚ â”‚ SidePanelâ”‚ â”‚
â”‚  â”‚                 â”‚         â”‚ â”‚ (620px)  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚ â”‚          â”‚ â”‚
â”‚  â”‚  â”‚ Version 1 â”‚  â”‚    â†â”€â”€â†’ â”‚ â”‚ Search   â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚         â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  â”‚ Version 2 â”‚  â”‚         â”‚ â”‚ Tags     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚ Prompts  â”‚ â”‚
â”‚                              â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¬ åŠ¨ç”»æ•ˆæœ (æ”¹è¿›ç‰ˆ)

### å±•å¼€åŠ¨ç”» (Opening)
1. **Timeline Panel**: 
   - `maxWidth`: 900px â†’ calc(100% - 620px - 4rem)
   - `flex`: 0 0 auto â†’ 1 1 auto (ä»å›ºå®šå®½åº¦å˜ä¸ºå¼¹æ€§å¸ƒå±€)
   - **è§†è§‰æ•ˆæœ**: ä»å±…ä¸­ä½ç½®å‘å·¦ç§»åŠ¨å¹¶å±•å¼€

2. **SidePanel**: 
   - `width`: 0 â†’ 620px
   - `opacity`: 0 â†’ 1
   - `transform`: translateX(100%) â†’ translateX(0)
   - **è§†è§‰æ•ˆæœ**: ä»å³ä¾§æ»‘å…¥

3. **æ—¶é•¿**: 500ms
4. **ç¼“åŠ¨**: ease-out (å¹³æ»‘å‡é€Ÿ)

### æ”¶èµ·åŠ¨ç”» (Closing)
1. **Timeline Panel**: 
   - `maxWidth`: calc(...) â†’ 900px
   - `flex`: 1 1 auto â†’ 0 0 auto
   - **è§†è§‰æ•ˆæœ**: å‘å³ç§»åŠ¨å›å±…ä¸­ä½ç½®

2. **SidePanel**: 
   - `width`: 620px â†’ 0
   - `opacity`: 1 â†’ 0
   - `transform`: translateX(0) â†’ translateX(100%)
   - `pointer-events`: none (æ”¶èµ·åä¸å¯äº¤äº’)
   - `overflow`: hidden (é˜²æ­¢å†…å®¹æº¢å‡º)
   - **è§†è§‰æ•ˆæœ**: å‘å³æ»‘å‡ºå¹¶æ¶ˆå¤±

---

## ğŸ’» ä»£ç å®ç° (æ”¹è¿›ç‰ˆ)

### 1. å¸ƒå±€ç»“æ„ - Flex å¸ƒå±€

```tsx
<div className="flex justify-center items-start gap-8">
  
  {/* Timeline Panel - å±…ä¸­æ˜¾ç¤º,å±•å¼€æ—¶å·¦å¯¹é½ */}
  <main 
    className="transition-all duration-500 ease-out min-w-0"
    style={{
      maxWidth: isSidePanelOpen 
        ? 'calc(100% - 620px - 4rem)'  // å±•å¼€æ—¶:å æ®å‰©ä½™ç©ºé—´
        : '900px',                     // é»˜è®¤:å›ºå®šå®½åº¦å±…ä¸­
      flex: isSidePanelOpen 
        ? '1 1 auto'   // å±•å¼€æ—¶:å¼¹æ€§å¸ƒå±€
        : '0 0 auto',  // é»˜è®¤:å›ºå®šå¤§å°
    }}
  >
    <VersionTimeline onAddVersion={handleAddVersion} />
  </main>

  {/* SidePanel - æ»‘å…¥/æ»‘å‡º */}
  <aside 
    className={`
      transition-all duration-500 ease-out
      ${isSidePanelOpen 
        ? 'opacity-100 translate-x-0 w-[620px]' 
        : 'opacity-0 translate-x-full w-0 pointer-events-none overflow-hidden'
      }
    `}
  >
    <div className="sticky top-10">
      <SidePanel onClose={handleCloseSidePanel} />
    </div>
  </aside>
</div>
```

### 3. å…³é—­æŒ‰é’® (SidePanel.tsx)

```tsx
<button
  onClick={onClose}
  className="p-2 rounded-lg hover:bg-slate-100 transition-all group"
>
  <svg className="w-5 h-5 group-hover:rotate-90 transition-transform">
    {/* X å›¾æ ‡ */}
  </svg>
</button>
```

---

## ğŸ¨ è§†è§‰ç»†èŠ‚

### åŠ¨ç”»æ›²çº¿
- **å±•å¼€**: `cubic-bezier(0.34, 1.56, 0.64, 1)` - å¸¦æœ‰å¼¹æ€§çš„å›å¼¹æ•ˆæœ
- **æ”¶èµ·**: `ease-out` - å¹³æ»‘å‡é€Ÿ

### äº¤äº’åé¦ˆ
- âœ“ SidePanel å…³é—­æŒ‰é’®æœ‰æ—‹è½¬åŠ¨ç”» (hover æ—¶æ—‹è½¬ 90Â°)
- âœ“ èƒŒæ™¯è‰²æ¸å˜ (hover: slate-100)
- âœ“ é€æ˜åº¦å¹³æ»‘è¿‡æ¸¡
- âœ“ æŒ‡é’ˆäº‹ä»¶æ§åˆ¶ (éšè—æ—¶ pointer-events: none)

### å“åº”å¼æ–­ç‚¹
- **Mobile**: å•åˆ—å¸ƒå±€,SidePanel å…¨å®½è¦†ç›–
- **Desktop (xl+)**: åŒåˆ—å¸ƒå±€,SidePanel å›ºå®š 620px å®½åº¦

---

## ğŸ”§ å…³é”® CSS ç±»

```css
/* æ–°å¢çš„æ»‘å…¥åŠ¨ç”» */
@keyframes slideInFromRight {
  from {
    opacity: 0;
    transform: translateX(100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideOutToRight {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(100%);
  }
}
```

---

## ğŸš€ ä½¿ç”¨åœºæ™¯

1. **æ·»åŠ ç‰ˆæœ¬**: ç‚¹å‡» Timeline ä¸­çš„"+"æŒ‰é’® â†’ SidePanel æ»‘å‡ºæ˜¾ç¤ºç›¸å…³æç¤º
2. **æŸ¥çœ‹æç¤º**: SidePanel å±•ç¤ºæ ‡ç­¾è¿‡æ»¤å’Œå»ºè®®çš„æç¤ºè¯
3. **å…³é—­é¢æ¿**: ç‚¹å‡»å³ä¸Šè§’ X æŒ‰é’® â†’ SidePanel æ»‘å›éšè—

---

## âœ¨ ä¼˜åŒ–å»ºè®®

### å·²å®ç° âœ…
- [x] å¹³æ»‘çš„å±•å¼€/æ”¶èµ·åŠ¨ç”»
- [x] å…³é—­æŒ‰é’®å¸¦æ—‹è½¬æ•ˆæœ
- [x] é€æ˜åº¦å’Œä½ç§»åŒæ­¥è¿‡æ¸¡
- [x] å“åº”å¼å¸ƒå±€é€‚é…

### æœªæ¥å¯ä¼˜åŒ– ğŸ’¡
- [ ] æ·»åŠ èƒŒæ™¯é®ç½©å±‚ (ç‚¹å‡»é®ç½©å…³é—­é¢æ¿)
- [ ] æ”¯æŒé”®ç›˜å¿«æ·é”® (ESC å…³é—­)
- [ ] æ·»åŠ é¢æ¿å®½åº¦æ‹–æ‹½è°ƒæ•´åŠŸèƒ½
- [ ] ç§»åŠ¨ç«¯æ”¯æŒä»åº•éƒ¨æ»‘å‡ºçš„æŠ½å±‰æ¨¡å¼
- [ ] æ·»åŠ å±•å¼€/æ”¶èµ·çš„éŸ³æ•ˆåé¦ˆ

---

## ğŸ“± ç§»åŠ¨ç«¯é€‚é…

åœ¨å°å±å¹•ä¸‹,å»ºè®®é‡‡ç”¨å…¨å±è¦†ç›–æ¨¡å¼:

```tsx
<aside 
  className={`
    ${isSidePanelOpen 
      ? 'fixed inset-0 z-50 lg:relative lg:inset-auto'
      : 'hidden'
    }
  `}
>
  <SidePanel />
</aside>
```

---

**æ›´æ–°æ—¥æœŸ**: 2025-11-17  
**ç‰ˆæœ¬**: v1.0.0  
**ä½œè€…**: GitHub Copilot
